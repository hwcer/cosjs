"use strict";

function socket_server(opts){
    if (!(this instanceof socket_server)) {
        return new socket_server(opts);
    }
    //this.opts   = opts;
    this.root    = opts.root;
    this.model   = new Set();            //所有模块类型

    this.manager = opts.manager||null;

    var self = this;
    var worker = opts.worker || [];
    worker.forEach(function(ccfg){
        self.model.add(ccfg.name);
    })

};

exports = module.exports = socket_server;
//网关[试情况启用网关]
socket_server.prototype.gateway = function(opts){
    var gateway = require('./server/gateway');
    return gateway.call(this,opts);
}


socket_server.prototype.connector = function(opts){
    var connector = require('./server/connector');
    return connector.call(this,opts);
};

//工作模块
socket_server.prototype.worker = function(opts){
    var worker = require('./server/worker');
    return worker.call(this,opts);
}